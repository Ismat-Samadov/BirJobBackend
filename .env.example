# =============================================================================
# BirJob Mobile Backend - Environment Configuration
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=development
PORT=3000
API_VERSION=v1
LOG_LEVEL=info

# API Base URL (for mobile app configuration)
API_BASE_URL=http://localhost:3000/api/v1
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database URL
DATABASE_URL="postgresql://username:password@localhost:5432/birjob"

# Database connection pool settings (optional)
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=10000

# =============================================================================
# REDIS CONFIGURATION (Upstash or Local)
# =============================================================================
# For Upstash Redis (Recommended for production)
UPSTASH_REDIS_REST_URL="https://your-redis-url.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-upstash-token"

# For local Redis (Development)
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB=0

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Secret for API authentication
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="24h"

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# =============================================================================
# PUSH NOTIFICATIONS - FIREBASE (Android)
# =============================================================================
FIREBASE_PROJECT_ID="your-firebase-project-id"
FIREBASE_PRIVATE_KEY_ID="your-private-key-id"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour Firebase private key here\n-----END PRIVATE KEY-----"
FIREBASE_CLIENT_EMAIL="firebase-adminsdk-xyz@your-project.iam.gserviceaccount.com"
FIREBASE_CLIENT_ID="your-client-id"
FIREBASE_CLIENT_CERT_URL="https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xyz%40your-project.iam.gserviceaccount.com"

# =============================================================================
# PUSH NOTIFICATIONS - APPLE (iOS)
# =============================================================================
APPLE_TEAM_ID="YOUR_APPLE_TEAM_ID"
APPLE_KEY_ID="YOUR_APPLE_KEY_ID"
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour Apple private key here\n-----END PRIVATE KEY-----"
APPLE_BUNDLE_ID="com.yourcompany.birjob"

# =============================================================================
# EMAIL SERVICE CONFIGURATION
# =============================================================================
# Email service provider (gmail, outlook, custom)
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false

# Email credentials
EMAIL_USER="your-email@gmail.com"
EMAIL_PASSWORD="your-app-password"
EMAIL_FROM="BirJob <noreply@birjob.az>"

# Support email for contact forms and feedback
CONTACT_NOTIFICATION_EMAIL="support@birjob.az"

# =============================================================================
# EXTERNAL API SERVICES
# =============================================================================
# AI Service (Groq API for job matching)
GROQ_API_KEY="gsk_your_groq_api_key_here"

# Analytics and monitoring
ANALYTICS_API_KEY="your-analytics-api-key"

# =============================================================================
# FILE STORAGE & CDN
# =============================================================================
# AWS S3 or similar for file uploads
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="birjob-uploads"

# CDN URL for static assets
CDN_URL="https://cdn.birjob.az"

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Error tracking service (Sentry, etc.)
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# Performance monitoring
NEW_RELIC_LICENSE_KEY="your-new-relic-key"
NEW_RELIC_APP_NAME="BirJob Mobile Backend"

# =============================================================================
# CRON JOBS & BACKGROUND TASKS
# =============================================================================
# Job scraping schedule (cron format)
JOB_SCRAPING_SCHEDULE="0 */6 * * *"  # Every 6 hours

# Notification sending schedule
NOTIFICATION_SCHEDULE="0 9 * * *"    # Daily at 9 AM

# Weekly digest schedule  
WEEKLY_DIGEST_SCHEDULE="0 9 * * 1"   # Monday at 9 AM

# Cleanup old logs schedule
CLEANUP_LOGS_SCHEDULE="0 2 * * 0"    # Sunday at 2 AM

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable features
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true

# Mobile app features
ENABLE_OFFLINE_MODE=false
ENABLE_DARK_MODE=true
ENABLE_BIOMETRIC_AUTH=true

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
# Social media API keys (for job source integration)
LINKEDIN_CLIENT_ID="your-linkedin-client-id"
LINKEDIN_CLIENT_SECRET="your-linkedin-client-secret"

# Job board APIs
INDEED_API_KEY="your-indeed-api-key"
GLASSDOOR_API_KEY="your-glassdoor-api-key"

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Test database (separate from main database)
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/birjob_test"

# Mock services for testing
MOCK_PUSH_NOTIFICATIONS=false
MOCK_EMAIL_SERVICE=false

# Debug settings
DEBUG_SQL_QUERIES=false
DEBUG_REDIS_OPERATIONS=false
DEBUG_API_REQUESTS=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS="https://birjob.az,https://www.birjob.az,https://admin.birjob.az"

# Trust proxy (for accurate IP addresses behind load balancer)
TRUST_PROXY=true

# Helmet security headers
HELMET_CSP_ENABLED=true
HELMET_HSTS_ENABLED=true

# =============================================================================
# WEBHOOK ENDPOINTS
# =============================================================================
# Webhooks for external services
STRIPE_WEBHOOK_SECRET="whsec_your_stripe_webhook_secret"
GITHUB_WEBHOOK_SECRET="your_github_webhook_secret"

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================
# Database backup settings
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE="0 3 * * *"  # Daily at 3 AM
DB_BACKUP_RETENTION_DAYS=30

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="BirJob is temporarily under maintenance. We'll be back soon!"

# =============================================================================
# MOBILE APP SETTINGS
# =============================================================================
# App store information
IOS_APP_STORE_ID="123456789"
ANDROID_PACKAGE_NAME="com.birjob.app"

# App version information
CURRENT_IOS_VERSION="1.0.0"
CURRENT_ANDROID_VERSION="1.0.0"
MINIMUM_IOS_VERSION="1.0.0"
MINIMUM_ANDROID_VERSION="1.0.0"

# Force update flags
FORCE_UPDATE_IOS=false
FORCE_UPDATE_ANDROID=false

# =============================================================================
# LOCALIZATION
# =============================================================================
# Default language and supported languages
DEFAULT_LANGUAGE="en"
SUPPORTED_LANGUAGES="en,az,tr,ru"

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Cache TTL settings (in seconds)
CACHE_TTL_JOBS=300           # 5 minutes
CACHE_TTL_METADATA=900       # 15 minutes
CACHE_TTL_USER_DATA=1800     # 30 minutes
CACHE_TTL_ANALYTICS=3600     # 1 hour

# API response limits
MAX_JOBS_PER_PAGE=50
MAX_SEARCH_RESULTS=1000
MAX_KEYWORDS_PER_USER=20

# Database query timeouts
DB_QUERY_TIMEOUT=30000       # 30 seconds
DB_CONNECTION_TIMEOUT=10000  # 10 seconds

# =============================================================================
# HEALTH CHECK SETTINGS
# =============================================================================
HEALTH_CHECK_INTERVAL=30000  # 30 seconds
HEALTH_CHECK_TIMEOUT=5000    # 5 seconds

# =============================================================================
# EXAMPLE VALUES (Development)
# =============================================================================
# Uncomment and modify these for quick development setup

# DATABASE_URL="postgresql://birjob:password123@localhost:5432/birjob"
# REDIS_URL="redis://localhost:6379"
# JWT_SECRET="dev-secret-key-change-in-production"
# EMAIL_USER="your-gmail@gmail.com"
# EMAIL_PASSWORD="your-app-specific-password"

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit this file with real credentials to version control
# 2. Use environment-specific .env files (.env.development, .env.production)
# 3. For production, use secure secret management services
# 4. Regularly rotate API keys and secrets
# 5. Monitor for any exposed credentials in logs or error messages
# =============================================================================